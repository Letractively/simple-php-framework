#summary Reference for the functions contained in functions.inc.php
#labels Featured,Phase-Implementation

= Function Reference =

[http://simple-php-framework.googlecode.com/svn/trunk/includes/functions.inc.php functions.inc.php] contains utility functions used in the framework as well as stand-alone functions for your own use. This is just a basic outline of what's available and what they do. The documentation needs to be fleshed out more thoroughly.

== Function List ==

*pick_off*($grabFirst = false, $sep = "/")

  Processes mod_rewrite URLs into key => value pairs. See included [http://simple-php-framework.googlecode.com/svn/trunk/.htaccess .htacess] for more info.

*get_options*($table, $val, $text, $default = null, $where = null, $order = null)

  Creates a list of <option>s from the given database table.

*dater*($format = null, $date = null)

  Converts a date/timestamp into the specified format. Differs from PHP's date() function in that you can pass both timestamp or a string. If no formatting string is specified, it returns the date in MySQL format.

*format_phone*($phone)

  Formats a phone number as (xxx) xxx-xxxx or xxx-xxxx depending on the length.

*hourmin*($hid = "hour", $mid = "minute", $pid = "pm", $hval = "", $mval = "", $pval = "")

  Outputs hour, minute, am/pm dropdown boxes

*mdy*($mid = "month", $did = "day", $yid = "year", $mval = "", $dval = "", $yval = "")

  Outputs month, day, and year dropdown boxes with default values and custom id/names

*redirect*($url = null)

  Redirects user to $url

*fix_slashes*($arr = "")

  Fixes MAGIC_QUOTES

*max_words*($str, $num)

  Returns the first $num words of $str

*download_document*($filename, $mimetype = "application/octet-stream")

  Serves an external document for download as an HTTP attachment.

*resize_image*($filename, $tmpname, $xmax, $ymax)

  Creates a thumbnail from an existing image. $filename is the original filename, while $tmpname is the actual filesystem name (for example, the temporary filename used in a PHP upload). Returns an image resource which you can then output to the browser, or save to a file using imagejpg(), imagepng(), etc.

*remote_filesize*($url, $user = null, $pw = null)

  Retrieves the filesize of a remote file.

*human_readable*($val, $round = 0)

  Outputs a filesize in human readable format.

*valid_email*($email, $test_mx = false)

  Tests for a valid email address and optionally tests for valid MX records, too.

*geturl*($url, $username = "", $password = "")

  Grabs a remote file.

*browser_info*()

  Returns the user's browser info. browscap.ini must be available for this to work. See the PHP manual for more details.

*match*($regex, $str, $i = 0)

  Quick wrapper for PHP's preg_match().

*send_html_mail*($to, $subject, $msg, $from, $plaintext = "")

  Sends an HTML formatted email

*mime_type*($filename)

  Guesses a file's content type base On it's extension.

*geocode*($address, $key, $output = "xml")

  Returns the lat, long of an address via Google's geocoding service. Requires a Google Maps API key. Output can be xml or json.